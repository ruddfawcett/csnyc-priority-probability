var setup=function(a){setupGroups(a);setupCategories(a)};var setupGroups=function(a){$legend=$(".legend.group");$.each(a.series,function(d,e){var b=$("<li/>");var f=$('<input id="group-'+d+'" data-index="'+d+'" type="checkbox" checked />').appendTo(b);var c=$('<label class="color-'+d+'" for="group-'+d+'"/>').text("Group "+(d+1)).appendTo(b);b.appendTo($legend)});$('.legend.group li input[type="checkbox"]').change(function(){$index=$(this).data("index");series=a.series[$index];series.setVisible(!series.visible)})};var setupCategories=function(b){var a=["Community","Curriculum","Equity","Implementation","Research & Evaluation","Sustainability & Scale","Teacher Development"];$legend=$(".legend.category");$.each(a,function(e,f){var c=$("<li/>");var g=$('<input id="category-'+e+'" data-index="'+e+'" type="checkbox" checked />').appendTo(c);var d=$('<label class="gray-'+e+'" for="category-'+e+'"/>').text(a[e]).appendTo(c);c.appendTo($legend)});$('.legend.category li input[type="checkbox"]').change(function(){$index=$(this).data("index");var c=this.checked;$.each(b.series,function(d,e){$.each(e.points,function(g,f){if(f.csnyc_category==a[$index]){if($("input[name=color-by]:checked").data("coloring")==="category"){if(c){f.update({marker:{radius:20,fillColor:colors[f.csnyc_category],states:{hover:{fillColor:colors[f.csnyc_category]}}}})}else{f.update({marker:{radius:0,fillColor:colors[f.csnyc_category],states:{hover:{fillColor:colors[f.csnyc_category]}}}})}}else{if(c){f.update({marker:{radius:20}})}else{f.update({marker:{radius:0}})}}}})})})};